{"ast":null,"code":"var _jsxFileName = \"/Users/aitor/Downloads/Github/ibathwater/wow-eye/src/pages/ThingSpecification.js\";\nimport React, { useContext, useState } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useLocation } from \"react-router\";\nimport { Header } from \"../components/Header\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport \"../static/styles/thingCard.css\";\nimport \"../static/styles/thing.css\";\nimport { ThingContext } from \"../context/ThingContext\";\nimport { ThingPropertyContext } from \"../context/ThingPropertyContext\";\nexport const ThingSpecification = () => {\n  //const {thingPropData, disconnectSocket} = useContext(ThingPropertyContext);\n  let location = useLocation();\n  let {\n    id\n  } = useParams();\n  let thing = location.state.thing;\n  const socket = new WebSocket('ws://' + thing.id.split('http://')[1]);\n  const [thingProp, setThingProp] = useState([]);\n\n  socket.onmessage = event => {\n    const recevData = JSON.parse(event.data.data);\n    console.log(recevData);\n  };\n\n  const handleDisconnect = () => {\n    socket.close();\n  };\n\n  const thingProprtiesView = thing.properties ? Object.keys(thing.properties).map(key => {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: 'thingCard',\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 30\n      }\n    }, thing.properties[key].title)), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    }, thing.properties[key].description)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 32\n      }\n    }, \"Unit: \"), thing.properties[key].unit)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 32\n      }\n    }, \"lastUpdate: \"), thing.properties[key].updatedAt))));\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    title: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardDeck, {\n    className: 'cardDeck',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, thingProprtiesView));\n};","map":{"version":3,"sources":["/Users/aitor/Downloads/Github/ibathwater/wow-eye/src/pages/ThingSpecification.js"],"names":["React","useContext","useState","useParams","useLocation","Header","Card","CardDeck","ThingContext","ThingPropertyContext","ThingSpecification","location","id","thing","state","socket","WebSocket","split","thingProp","setThingProp","onmessage","event","recevData","JSON","parse","data","console","log","handleDisconnect","close","thingProprtiesView","properties","Object","keys","map","key","title","description","unit","updatedAt"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from \"react\";\nimport {useParams} from 'react-router-dom';\nimport { useLocation } from \"react-router\";\nimport {Header} from \"../components/Header\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport \"../static/styles/thingCard.css\";\nimport \"../static/styles/thing.css\";\nimport {ThingContext} from \"../context/ThingContext\";\nimport {ThingPropertyContext} from \"../context/ThingPropertyContext\";\n\nexport const ThingSpecification = () => {\n    //const {thingPropData, disconnectSocket} = useContext(ThingPropertyContext);\n    let location = useLocation();\n    let { id } = useParams();\n    let thing = location.state.thing;\n    const socket = new WebSocket('ws://'+thing.id.split('http://')[1]);\n    const [thingProp, setThingProp] = useState([]);\n\n    socket.onmessage = (event) => {\n        const recevData = JSON.parse(event.data.data);\n        console.log(recevData);\n    };\n\n    const handleDisconnect = () => {\n        socket.close();\n    }\n\n    const thingProprtiesView = thing.properties ? Object.keys(thing.properties).map(key =>{\n        return (\n            <Card className={'thingCard'} key={key}>\n                <Card.Header><b>{thing.properties[key].title}</b></Card.Header>\n                <Card.Body>\n                    <Card.Text>\n                        <span>{thing.properties[key].description}</span>\n                    </Card.Text>\n                    <div><span><b>Unit: </b>{thing.properties[key].unit}</span></div>\n                    <div><span><b>lastUpdate: </b>{thing.properties[key].updatedAt}</span></div>\n                </Card.Body>\n            </Card>\n        );\n    }): null;\n\n    return (\n        <>\n            <Header title={id}></Header>\n            <CardDeck className={'cardDeck'}>\n                {thingProprtiesView}\n            </CardDeck>\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}