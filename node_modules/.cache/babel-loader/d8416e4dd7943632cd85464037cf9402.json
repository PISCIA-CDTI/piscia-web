{"ast":null,"code":"var _jsxFileName = \"/Users/aitor/Downloads/Github/imaqua/water-middleware-eye/src/pages/ThingSpecification.js\";\nimport React, { useContext } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useLocation } from \"react-router\";\nimport { Header } from \"../components/Header\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport \"../static/styles/thingCard.css\";\nimport \"../static/styles/thing.css\";\nimport { ThingPropertyContext } from \"../context/ThingPropertyContext\";\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\nexport const ThingSpecification = props => {\n  let history = useHistory();\n  const {\n    thingPropData,\n    handleDisconnect\n  } = useContext(ThingPropertyContext);\n  let location = useLocation();\n  let {\n    id\n  } = useParams();\n  let thing = location.state.thing;\n\n  const handleClickTimeline = thingProp => {\n    const fields = thing.id.split('/');\n    handleDisconnect();\n    history.push('/things/' + fields[fields.length - 1] + '/timeline', {\n      thingId: thing.id,\n      property: thingProp\n    });\n  };\n\n  const thingProprtiesView = thing.properties ? Object.keys(thing.properties).map((key, i) => {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: 'thingCard',\n      key: thing.properties[key].id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 30\n      }\n    }, thing.properties[key].title)), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }, thing.properties[key].description)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 32\n      }\n    }, \"Unit: \"), thing.properties[key].unit)), thingPropData.length > 0 ? thingPropData.map((item, i) => Object.keys(item)[0] === thing.properties[key].title ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      key: thing.properties[key].title + i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 74\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 80\n      }\n    }, \"Measurement: \"), \" \", Object.keys(item[thing.properties[key].title]).length >= 0 ? JSON.stringify(item[thing.properties[key].title]) : item[thing.properties[key].title])), /*#__PURE__*/React.createElement(\"div\", {\n      key: 't-' + thing.properties[key].title + i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 79\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 85\n      }\n    }, \"Timestamp: \"), \" \", item['timestamp'])), thing.properties[key].type === 'number' && item[thing.properties[key].title] ? /*#__PURE__*/React.createElement(Button, {\n      onClick: () => handleClickTimeline(thing.properties[key]),\n      id: 'btn-' + thing.properties[key],\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 116\n      }\n    }, \"See Timeline\") : null, /*#__PURE__*/React.createElement(\"pre\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 33\n      }\n    }, JSON.stringify(thing.properties[key]))) : null) : null));\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    title: id,\n    key: 'title',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardDeck, {\n    className: 'cardDeck',\n    key: 'ts-key',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, thingProprtiesView), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, JSON.stringify(thing.properties)));\n};","map":{"version":3,"sources":["/Users/aitor/Downloads/Github/imaqua/water-middleware-eye/src/pages/ThingSpecification.js"],"names":["React","useContext","useParams","useLocation","Header","Card","CardDeck","ThingPropertyContext","Button","useHistory","ThingSpecification","props","history","thingPropData","handleDisconnect","location","id","thing","state","handleClickTimeline","thingProp","fields","split","push","length","thingId","property","thingProprtiesView","properties","Object","keys","map","key","i","title","description","unit","item","JSON","stringify","type"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAAQC,MAAR,QAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAO,gCAAP;AACA,OAAO,4BAAP;AACA,SAAQC,oBAAR,QAAmC,iCAAnC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,kBAAkB,GAAIC,KAAD,IAAW;AACzC,MAAKC,OAAO,GAAGH,UAAU,EAAzB;AACA,QAAM;AAACI,IAAAA,aAAD;AAAgBC,IAAAA;AAAhB,MAAoCb,UAAU,CAACM,oBAAD,CAApD;AACA,MAAIQ,QAAQ,GAAGZ,WAAW,EAA1B;AACA,MAAI;AAAEa,IAAAA;AAAF,MAASd,SAAS,EAAtB;AACA,MAAIe,KAAK,GAAGF,QAAQ,CAACG,KAAT,CAAeD,KAA3B;;AAEA,QAAME,mBAAmB,GAAIC,SAAD,IAAa;AACrC,UAAMC,MAAM,GAAGJ,KAAK,CAACD,EAAN,CAASM,KAAT,CAAe,GAAf,CAAf;AACAR,IAAAA,gBAAgB;AAChBF,IAAAA,OAAO,CAACW,IAAR,CAAa,aAAYF,MAAM,CAACA,MAAM,CAACG,MAAP,GAAc,CAAf,CAAlB,GAAoC,WAAjD,EAA8D;AAACC,MAAAA,OAAO,EAAER,KAAK,CAACD,EAAhB;AAAoBU,MAAAA,QAAQ,EAAEN;AAA9B,KAA9D;AACH,GAJD;;AAMA,QAAMO,kBAAkB,GAAGV,KAAK,CAACW,UAAN,GAAmBC,MAAM,CAACC,IAAP,CAAYb,KAAK,CAACW,UAAlB,EAA8BG,GAA9B,CAAkC,CAACC,GAAD,EAAMC,CAAN,KAAW;AACvF,wBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAE,WAAjB;AAA8B,MAAA,GAAG,EAAEhB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBhB,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAA1B,CAAb,CADJ,eAEI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOjB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBG,WAA7B,CADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAN,EAAoBlB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBI,IAA1C,CAAL,CAJJ,EAMQvB,aAAa,CAACW,MAAd,GAAsB,CAAtB,GAA0BX,aAAa,CAACkB,GAAd,CAAkB,CAACM,IAAD,EAAOJ,CAAP,KAAYJ,MAAM,CAACC,IAAP,CAAYO,IAAZ,EAAkB,CAAlB,MAAyBpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAA/C,gBACpD,uDACI;AAAK,MAAA,GAAG,EAAEjB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAAtB,GAA4BD,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAN,OAA4BJ,MAAM,CAACC,IAAP,CAAYO,IAAI,CAACpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAAvB,CAAhB,EAA+CV,MAA/C,IAAyD,CAAzD,GAA4Dc,IAAI,CAACC,SAAL,CAAeF,IAAI,CAACpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAAvB,CAAnB,CAA5D,GAA+GG,IAAI,CAACpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAAvB,CAA/I,CAAzC,CADJ,eAEI;AAAK,MAAA,GAAG,EAAE,OAAKjB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAA3B,GAAiCD,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAN,OAA0BI,IAAI,CAAC,WAAD,CAA9B,CAA9C,CAFJ,EAIQpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBQ,IAAtB,KAA+B,QAA/B,IAA2CH,IAAI,CAACpB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,EAAsBE,KAAvB,CAA/C,gBAA+E,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAMf,mBAAmB,CAACF,KAAK,CAACW,UAAN,CAAiBI,GAAjB,CAAD,CAA1C;AAAkE,MAAA,EAAE,EAAE,SAAOf,KAAK,CAACW,UAAN,CAAiBI,GAAjB,CAA7E;AAAoG,MAAA,OAAO,EAAC,SAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA/E,GAA6N,IAJrO,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEM,IAAI,CAACC,SAAL,CAAetB,KAAK,CAACW,UAAN,CAAiBI,GAAjB,CAAf,CADF,CANJ,CADoD,GAWrD,IAXuB,CAA1B,GAWU,IAjBlB,CAFJ,CADJ;AAyBH,GA1B6C,CAAnB,GA0BvB,IA1BJ;AA4BA,sBACI,uDACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEhB,EAAf;AAAmB,IAAA,GAAG,EAAE,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAE,UAArB;AAAiC,IAAA,GAAG,EAAE,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKW,kBADL,CAFJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKW,IAAI,CAACC,SAAL,CAAetB,KAAK,CAACW,UAArB,CADL,CALJ,CADJ;AAYH,CArDM","sourcesContent":["import React, {useContext} from \"react\";\nimport {useParams} from 'react-router-dom';\nimport { useLocation } from \"react-router\";\nimport {Header} from \"../components/Header\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport \"../static/styles/thingCard.css\";\nimport \"../static/styles/thing.css\";\nimport {ThingPropertyContext} from \"../context/ThingPropertyContext\";\nimport Button from \"react-bootstrap/Button\";\nimport {useHistory} from \"react-router-dom\";\n\nexport const ThingSpecification = (props) => {\n    let  history = useHistory();\n    const {thingPropData, handleDisconnect} = useContext(ThingPropertyContext);\n    let location = useLocation();\n    let { id } = useParams();\n    let thing = location.state.thing;\n\n    const handleClickTimeline = (thingProp)=>{\n        const fields = thing.id.split('/')\n        handleDisconnect();\n        history.push('/things/'+ fields[fields.length-1]+'/timeline', {thingId: thing.id, property: thingProp});\n    }\n\n    const thingProprtiesView = thing.properties ? Object.keys(thing.properties).map((key, i) =>{\n        return (\n            <Card className={'thingCard'} key={thing.properties[key].id}>\n                <Card.Header><b>{thing.properties[key].title}</b></Card.Header>\n                <Card.Body>\n                    <Card.Text>\n                        <span>{thing.properties[key].description}</span>\n                    </Card.Text>\n                    <div><span><b>Unit: </b>{thing.properties[key].unit}</span></div>\n                    {\n                        thingPropData.length >0 ? thingPropData.map((item, i)=> Object.keys(item)[0] === thing.properties[key].title? (\n                            <>\n                                <div key={thing.properties[key].title+i}><span><b>Measurement: </b> {Object.keys(item[thing.properties[key].title]).length >= 0? JSON.stringify(item[thing.properties[key].title]): item[thing.properties[key].title]}</span></div>\n                                <div key={'t-'+thing.properties[key].title+i}><span><b>Timestamp: </b> {item['timestamp']}</span></div>\n                                {\n                                    thing.properties[key].type === 'number' && item[thing.properties[key].title]? (<Button onClick={() => handleClickTimeline(thing.properties[key])}id={'btn-'+thing.properties[key]} variant=\"primary\">See Timeline</Button>): null\n                                }\n                                <pre>\n                                 {JSON.stringify(thing.properties[key])}\n                                </pre>\n                            </>\n                        ): null): null\n                    }\n                </Card.Body>\n            </Card>\n        );\n    }): null;\n\n    return (\n        <>\n            <Header title={id} key={'title'}></Header>\n            <CardDeck className={'cardDeck'} key={'ts-key'}>\n                {thingProprtiesView}\n            </CardDeck>\n            <pre>\n                {JSON.stringify(thing.properties)}\n            </pre>\n\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}